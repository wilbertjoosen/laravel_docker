{"version":3,"file":"mat-ngx-wig.js.map","sources":["ng://mat-ngx-wig/src/mat-ngx-wig/mat-ngx-wig.component.ts","ng://mat-ngx-wig/src/mat-ngx-wig.module.ts"],"sourcesContent":["import { CanUpdateErrorState, MatFormFieldControl, MatInputBase, mixinErrorState } from '@angular/material';\nimport { ControlValueAccessor, FormControl, FormGroupDirective, NgControl, NgForm } from '@angular/forms';\nimport { ErrorStateMatcher } from '@angular/material/core';\nimport { FocusMonitor } from '@angular/cdk/a11y';\nimport { coerceBooleanProperty } from '@angular/cdk/coercion';\nimport {\n  Component,\n  DoCheck,\n  ElementRef,\n  HostBinding,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Self,\n  ViewEncapsulation\n} from '@angular/core';\n\nimport { distinctUntilChanged, filter, takeUntil } from 'rxjs/operators'\nimport { Subject } from 'rxjs';\n\n// tslint:disable-next-line:typedef\nexport const _MatInputMixinBase = mixinErrorState(MatInputBase);\n\n\n@Component({\n  selector: 'mat-ngx-wig',\n  templateUrl: './mat-ngx-wig.component.html',\n  styleUrls: [\n    './mat-ngx-wig.component.scss',\n    '../styles/components/component-wrapper.scss',\n    '../styles/vendor/ng-wig.scss'\n  ],\n  encapsulation: ViewEncapsulation.None,\n  providers: [\n    {\n      provide: MatFormFieldControl,\n      useExisting: MatNgxWigComponent\n    }\n  ],\n  host: {\n    '[attr.id]': 'id',\n    class: 'component-wrapper'\n  }\n})\nexport class MatNgxWigComponent extends _MatInputMixinBase\n                                implements CanUpdateErrorState,\n                                           ControlValueAccessor,\n                                           MatFormFieldControl<string>,\n                                           OnChanges,\n                                           OnInit,\n                                           DoCheck,\n                                           OnDestroy {\n  private static nextId: number = 0;\n\n  protected _uid: string = `lms-mat-ngx-wig-${MatNgxWigComponent.nextId++}`;\n\n  @Input()\n  public get id(): string {\n    return this._id;\n  }\n  public set id(value: string) {\n    this._id = value || this._uid;\n  }\n\n  protected _id: string;\n\n  @HostBinding('attr.aria-describedby') public describedBy: string = '';\n\n  public get value(): string {\n    return this.editorControl.value;\n  }\n\n  public set value(newValue: string) {\n    this.writeValue(newValue);\n  }\n\n  @Input()\n  public get placeholder(): string {\n    return this._placeholder;\n  }\n  public set placeholder(newPlaceholder: string) {\n    this._placeholder = newPlaceholder;\n    this.stateChanges.next();\n  }\n\n  private _placeholder: string;\n\n  public focused: boolean = false;\n\n  public get empty(): boolean {\n    return !!this.editorControl.value;\n  }\n\n  @Input()\n  public get required(): boolean {\n    return this._required;\n  }\n  public set required(isRequired: boolean) {\n    this._required = coerceBooleanProperty(isRequired);\n    this.stateChanges.next();\n  }\n\n  private _required: boolean = false;\n\n  @Input()\n  public get disabled(): boolean {\n    return this._disabled;\n  }\n  public set disabled(isDisabled: boolean) {\n    this.setDisabledState(isDisabled);\n  }\n\n  private _disabled: boolean = false;\n\n  public shouldPlaceholderFloat: boolean = false;\n\n  public shouldLabelFloat: boolean = false;\n\n  public readonly controlType: string = 'mat-ngx-wig';\n\n  private _destroy$$: Subject<void> = new Subject<void>();\n\n  public editorControl: FormControl = new FormControl();\n\n  public constructor(\n    @Optional() @Self() public ngControl: NgControl,\n    @Optional() _parentForm: NgForm,\n    @Optional() _parentFormGroup: FormGroupDirective,\n    _defaultErrorStateMatcher: ErrorStateMatcher,\n    private _focusMonitor: FocusMonitor,\n    private _elRef: ElementRef,\n  ) {\n    super(_defaultErrorStateMatcher, _parentForm, _parentFormGroup, ngControl);\n\n    if (ngControl !== null) {\n      this.ngControl.valueAccessor = this;\n    }\n  }\n\n  public ngOnInit(): void {\n    this._focusMonitor.monitor(this._elRef.nativeElement, true)\n      .subscribe((origin: string) => {\n        this.focused = !!origin;\n\n        if (!this.focused) {\n          this._onTouched();\n        }\n\n        this.stateChanges.next();\n      });\n\n    this.editorControl.valueChanges\n      .pipe(\n        distinctUntilChanged(),\n        filter(() => this.editorControl.enabled),\n        takeUntil(this._destroy$$)\n      )\n      .subscribe((newValue: string) => {\n        this._onChange(newValue);\n      });\n  }\n\n  public ngDoCheck(): void {\n    if (this.ngControl) {\n      this.updateErrorState();\n    }\n  }\n\n  public ngOnChanges(): void {\n    this.stateChanges.next();\n  }\n\n  public setDescribedByIds(ids: string[]): void {\n    this.describedBy = ids.join(' ');\n  }\n\n  public onContainerClick(_event: MouseEvent): void { }\n\n  public writeValue(newValue: string): void {\n    this.editorControl.setValue(newValue, { emitEvent: false });\n    this.stateChanges.next();\n  }\n\n  public setDisabledState(isDisabled: boolean): void {\n    this._disabled = coerceBooleanProperty(isDisabled);\n\n    if (this._disabled) {\n      this.editorControl.disable();\n    } else {\n      this.editorControl.enable();\n    }\n\n    this.stateChanges.next();\n  }\n\n  public ngOnDestroy(): void {\n    this._destroy$$.next();\n    this._destroy$$.complete();\n\n    this.stateChanges.complete();\n\n    this._focusMonitor.stopMonitoring(this._elRef.nativeElement);\n  }\n\n  public registerOnChange(fn: (value: string) => void): void {\n    this._onChange = fn;\n  }\n\n  public registerOnTouched(fn: () => {}): void {\n    this._onTouched = fn;\n  }\n\n  private _onChange: (value: string) => void = () => {};\n  private _onTouched = () => {};\n}\n","import { A11yModule } from '@angular/cdk/a11y';\nimport { CommonModule } from '@angular/common';\nimport { MatFormFieldModule, MatInputModule } from '@angular/material';\nimport { NgModule } from '@angular/core';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { NgxWigModule } from 'ngx-wig';\n\nimport { MatNgxWigComponent } from './mat-ngx-wig/mat-ngx-wig.component';\n\n\n@NgModule({\n  imports: [\n    A11yModule,\n    CommonModule,\n    MatFormFieldModule,\n    MatInputModule,\n    NgxWigModule,\n    ReactiveFormsModule,\n  ],\n  declarations: [MatNgxWigComponent],\n  exports: [MatNgxWigComponent]\n})\nexport class MatNgxWigModule {}\n"],"names":["tslib_1.__extends"],"mappings":"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"}
